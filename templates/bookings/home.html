{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Sistema de Reservas</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    :root {
      --main-color: #005098;
      --accent-color: #0d6efd;
      --soft-bg: #f5f6f7;
    }

    body {
      background: var(--soft-bg);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      overflow-x: hidden;
    }

    header {
      text-align: center;
      padding: 3rem 1rem 1rem;
      animation: fadeIn 0.8s ease forwards;
    }

    header h1 {
      font-weight: 700;
      color: var(--main-color);
      margin-bottom: 0.5rem;
    }

    header p {
      color: #6c757d;
      font-size: 1.05rem;
    }

    .menu-container {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 2rem 0;
    }

    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
      width: 100%;
      max-width: 900px;
    }

    .menu-card {
      background: #fff;
      border-radius: 1rem;
      padding: 2rem 1.5rem;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
      text-align: center;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      cursor: pointer;
      opacity: 0;
      transform: translateY(30px);
      animation: slideUp 0.8s ease forwards;
    }

    /* Animaci√≥n escalonada */
    .menu-card:nth-child(1) { animation-delay: 0.1s; }
    .menu-card:nth-child(2) { animation-delay: 0.25s; }
    .menu-card:nth-child(3) { animation-delay: 0.4s; }

    .menu-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, var(--main-color), var(--accent-color));
      opacity: 0;
      pointer-events: none; /* ‚úÖ ya no bloquea clics */
      transition: opacity 0.25s ease;
      z-index: 0;
    }

    .menu-card:hover::before { opacity: 0.06; }
    .menu-card:hover {
      transform: translateY(-6px);
      box-shadow: 0 6px 16px rgba(0,0,0,0.12);
    }

    .menu-icon {
      font-size: 3rem;
      color: var(--main-color);
      margin-bottom: 1rem;
      transition: transform 0.3s ease;
      z-index: 1;
      position: relative;
    }

    .menu-card:hover .menu-icon { transform: scale(1.1); }

    .menu-card h3 {
      font-weight: 600;
      margin-bottom: 0.75rem;
      color: #212529;
      z-index: 1;
      position: relative;
    }

    .menu-card p {
      color: #6c757d;
      font-size: 0.95rem;
      margin-bottom: 1.5rem;
      z-index: 1;
      position: relative;
    }

    .btn {
      border-radius: 8px;
      font-weight: 500;
      z-index: 1;
      position: relative;
    }

    footer {
      text-align: center;
      padding: 1.5rem 0;
      color: #6c757d;
      font-size: 0.9rem;
      animation: fadeIn 1s ease 0.5s forwards;
    }

    /* Animaciones */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @media (max-width: 768px) {
      header { padding: 2rem 1rem 0.5rem; }
      .menu-card { padding: 1.75rem 1.25rem; }
      .menu-icon { font-size: 2.5rem; }
    }
  </style>
</head>

<body>
  <header>
    <h1><i class="bi bi-calendar-week"></i> Sistema de Reservas</h1>
    <p>Organiza eventos, gestiona citas y mant√©n todo bajo control.</p>
  </header>

  <section class="menu-container">
    <div class="container">
      <div class="menu-grid">

        <!-- Eventos p√∫blicos -->
        <div class="menu-card" onclick="window.location='{% url 'bookings:event_list' %}'">
          <div class="menu-icon"><i class="bi bi-megaphone"></i></div>
          <h3>Eventos P√∫blicos</h3>
          <p>Consulta y reg√≠strate en eventos abiertos al p√∫blico.</p>
          <a href="{% url 'bookings:event_list' %}" class="btn btn-primary w-100">
            <i class="bi bi-list-ul"></i> Ver eventos
          </a>
        </div>

        <!-- Agenda interna -->
        <div class="menu-card" onclick="window.location='{% url 'bookings:agenda' %}'">
          <div class="menu-icon"><i class="bi bi-calendar-check"></i></div>
          <h3>Agenda Interna</h3>
          <p>Administra citas internas y revisa tu calendario semanal.</p>
          <a href="{% url 'bookings:agenda' %}" class="btn btn-success w-100 mb-2">
            <i class="bi bi-person-video3"></i> Ir a la agenda
          </a>
          <a href="{% url 'bookings:agenda_semanal' %}" class="btn btn-outline-primary w-100">
            <i class="bi bi-calendar-week"></i> Vista semanal
          </a>
        </div>

        <!-- Panel administrativo -->
        {% if user.is_authenticated and user.is_staff %}
        <div class="menu-card" onclick="window.location='{% url 'admin_panel:dashboard' %}'">
          <div class="menu-icon"><i class="bi bi-speedometer2"></i></div>
          <h3>Panel Administrativo</h3>
          <p>Gestiona eventos, reservas y m√©tricas del sistema.</p>
          <a href="{% url 'admin_panel:dashboard' %}" class="btn btn-outline-dark w-100">
            <i class="bi bi-gear"></i> Ir al panel
          </a>
        </div>
        {% endif %}
      </div>
    </div>
  </section>

  <footer>
    <small>¬© {{ year|default:2025 }} Sistema de Reservas ‚Äî desarrollado con prop√≥sito y dise√±o interiorista digital üí°</small>
  </footer>
</body>
</html>
